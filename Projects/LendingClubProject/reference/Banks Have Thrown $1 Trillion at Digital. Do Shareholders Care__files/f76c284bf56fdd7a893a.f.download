webpackJsonp([5],{108:function(e,t,i){"use strict";i.d(t,"a",function(){return h});var r=i(3),n=(i.n(r),i(83)),a=(i.n(n),i(80)),o=(i.n(a),i(50)),s=(i.n(o),i(110)),c=(i.n(s),i(216)),l=(i.n(c),i(112)),u=i(115),d=i(81),h=(i.n(d),function(){function e(){}return e.preprocess=function(t,i,r,n){var a;return t?(e.isLegacyGallery(t)&&(t.body=t.body.replace(/<style[^<]+<\/style>/g,"").replace(/<script[^<]+<\/script>/g,"").replace(/\\n/g,"").replace(/h1>/g,"h2>"),t.pages=t.body.split("<pagebreak/>").filter(function(e){return e&&!!e.trim()})),"0"===t.specialSlot&&(t.specialSlot=null),a=d.tz(t.date,"America/New_York"),t.elderly||(t.elderly=e.articleElderlyCheck(t,a)),t.isAdLight||(t.isAdLight=e.articleAdLightCheck(t)),t.isAdLight&&(t.pages=e.removeArticleBodyAds(t.pages)),t.isAdvertisement||(t.isAdvertisement=e.articleAdvertisementCheck(t)),t.authors=t.authors.map(function(e){return e.avatar_map=l.a.mapAvatars(e),e}),t.bertieBadges&&!t.displayBadge&&(t.displayBadge=e.setDisplayBadge(t.bertieBadges.filter(function(e){return e.display}))),"premium"===t.templateType&&(t.preloadHeroLinkData||(t.preloadHeroLinkData=u.a.makePreloadHeroLinkData(t)),t.pages=u.a.replaceAds(t,n),t.heroMediaData||(t.heroMediaData=u.a.processHeroMediaData(t))),e.articleRetractedCheck(t)&&(t.pages=e.removeAutoplayAttributes(t.pages)),t):t},e.getCategories=function(e){var t,i=[];if(!e||e.length<1)return null;for(var r=0;r<e.length;r++)t=e[r]||{},t.sectionName?i.push(t.sectionName):t.channelName&&i.push(t.channelName);return i.length>0?i.join():null},e.getChannelAdsTargeting=function(e){if(!e)return[];var t=[];return r.Observable.from(e).pluck("channelName").filter(function(e){return!!e}).map(function(e){return e.toLowerCase().replace(/[\s'"]+/g,"")}).distinct().subscribe(function(e){t.push(e)}),t},e.getSectionAdsTargeting=function(e){if(!e)return[];var t=[];return r.Observable.from(e).filter(function(e){return!!e.sectionName&&!!e.channelName}).map(function(e){var t=e.sectionName.toLowerCase().replace(/[\s'"]+/g,"");return e.channelName.toLowerCase().replace(/[\s'"]+/g,"")+":"+t}).distinct().subscribe(function(e){t.push(e)}),t},e.getChannelNames=function(e){if(!e)return null;var t=[];return r.Observable.from(e).map(function(e){return e.channelName}).distinct().subscribe(function(e){t.push(e)}),t.length>0?t.join():null},e.getSectionNames=function(e){if(!e)return null;var t=[];return r.Observable.from(e).distinct().subscribe(function(e){e.sectionName&&-1===t.indexOf(e.sectionName)&&t.push(e.channelName+":"+e.sectionName)}),t.join()},e.getSpecialSlot=function(e){var t,i="";return e.specialSlot&&"false"!==e.specialSlot&&"0"!==e.specialSlot?i=e.specialSlot:(t=e.authors&&e.authors[1]||{},t.specialSlot&&"false"!==t.specialSlot&&"0"!==t.specialSlot&&(i=t.specialSlot)),i.replace(/-\d+$/,"")},e.getHashtag=function(e){return(e.trendingHashtags||e.hashtags||[])[0]},e.getBVCategory=function(t){var i=t.subBlogs||[];return((e.getGroupAuthor(t)||{}).subBlogs||[]).filter(function(e){return-1!==i.findIndex(function(t){return-1!==e.naturalId.indexOf(t)})}).map(function(e){return e.name})},e.isGroupBlog=function(e){return!!e.blogType&&"individual"!==e.blogType&&"partner"!==e.blogType&&"women"!==e.blogType},e.getDisplayAuthor=function(t){var i=t.authors&&t.authors.length?t.authors:t.author?[e.getLegacyAuthor(t.author)]:[];return e.isGroupBlog(t)&&i[1]?i[1]:i[0]},e.getLegacyAuthor=function(e){return{name:e,naturalId:"legacy",avatars:[],blog:!1}},e.getGroupAuthor=function(e){return(e.authors||[]).find(function(e){return e.blog&&-1!==e.naturalId.indexOf("blog-")})},e.getBlogAuthor=function(e){return(e.authors||[])[0]},e.getPublicationAuthor=function(e){return(e.authors||[])[1]},e.showSingleRec=function(e){var t=e.authorGroup,i=void 0===t?{}:t,r=e.authors,n=void 0===r?[]:r,a=i.publication,o=(void 0===a?{}:a).singleRec;return void 0!==o&&o||n.filter(function(e){return e.singleRec}).length>0},e.getBVProgramType=function(t){var i=e.getDisplayAuthor(t);return i&&"legacy"!==i.naturalId?t.bvProgramType||i.bvProgramType:null},e.getBaseZone=function(e){return this.isLegacy(e)?"article-d-blue":"premium"===e.templateType?"article-d-prem":"article-d"},e.getSubzone=function(e){var t=e.isAdLight?"/alx":"";if(e.authors){var i=e.authors[1]||{},r=i.subzone,n=void 0!==r&&r,a=i.slug,o=void 0===a?"":a,s=(e.authors[0]||{}).slug,c=void 0===s?"":s;t+=n?"/"+(o||c):""}return t},e.makeArticleRequestParamsFromRoute=function(t,i){return t.data.preview&&t.data.bertie?e.makeArticleUriFromBertiePreviewParams(t.params):t.data.preview?e.makeArticleUriFromPreviewParams(t.params,i):t.data.legacy?e.makeArticleUriFromLegacyParams(t.params):e.makeArticleUriFromParams(t.params,i)},e.makeArticleUriFromParams=function(e,t){return{uri:"http://www"+(t?"":"-staging")+".forbes.com/sites/"+e.slug+"/"+e.year+"/"+e.month+"/"+e.date+"/"+e.title+"/"}},e.makeArticleUriFromBertiePreviewParams=function(e){return{id:e.id}},e.makeArticleUriFromPreviewParams=function(e,t){return{uri:"http://www"+(t?"":"-staging")+".forbes.com/preview/sites/"+e.slug+"/"+e.id}},e.makeArticleUriFromLegacyParams=function(e){return{uri:e.magazineOrYear+"/"+e.yearOrMonth+"/"+e.dateOrMonthDate+"/"+e.title.replace(".html","").replace(/slide_\d+$/,"slide")}},e.isLegacy=function(e){return e.naturalId.startsWith("legacyURI")},e.isLegacyGallery=function(t){return!!e.isLegacy(t)&&t.uri.endsWith("_slide")},e.getDFPLineItemID=function(e,t){var i=document.getElementById(e);return!t&&i&&i.parentElement.currentSlotInfo&&i.parentElement.currentSlotInfo.lineItemId?i.parentElement.currentSlotInfo.lineItemId.toString():"none"},e.getTitle=function(t){var i=t.authorGroup,r=(void 0===i?{}:i).publication,n=void 0===r?{}:r,a=t.blogType,o=void 0===a?"":a,s=t.slug,c=void 0===s?"":s,l=t.title,u=void 0===l?"":l;return"author"===o?"Author Post: "+u:"ad"===o?c+" BrandVoice: "+u:"insights"===o?"Forbes Insights: "+u:"connoisseur"===o?((Object.keys(n).length?n:e.getPublicationAuthor(t)).name||"")+" Connoisseur: "+u:"comm"===o?"Council Post: "+u:u},e.getFeaturedImageLocation=function(e){return e.images&&e.images.featured?e.images.featured.displayFullWidth?"header":"body":null},e.setDisplayBadge=function(e){return e.length>=1?e.reduce(function(e,t){return((e||{}).priority||0)<=(t||{}).priority?t:e}):null},e.articleRetractedCheck=function(t){return[e.getSpecialSlot(t),t.editorialSlot||""].indexOf("RetractThisPost")>-1||!!t.retracted},e.articleElderlyCheck=function(e,t){var i=["ad","author","comm","connoisseur","insights","marketplace"],r=["Leadership","Lifestyle","Personal Finance"],n="forbesfinds"===e.editorialSlot||"Forbes Finds"===e.blogName,a=e.primaryChannel||{},o=a.channelName,s=void 0===o?"":o,c=a.sectionName,l=void 0===c?"":c,u=((e.authors||[])[0]||{}).primaryChannel,h=void 0===u?{}:u,p=h.channelName,f=void 0===p?"":p,g=h.sectionName,m=void 0===g?"":g,b=((e.authors||[])[1]||{}).primaryChannel,v=void 0===b?{}:b,y=v.channelName,A=void 0===y?"":y,x=v.sectionName,C=void 0===x?"":x;return d.tz("America/New_York").diff(t,"years")>=2&&i.indexOf(e.blogType)<0&&!n&&-1===r.indexOf(s.trim())&&-1===r.indexOf(l.trim())&&-1===r.indexOf(f.trim())&&-1===r.indexOf(m.trim())&&-1===r.indexOf(A.trim())&&-1===r.indexOf(C.trim())},e.articleAdLightCheck=function(e){var t=["section_1123"],i=((e.authors||[])[0]||{}).primaryChannel,r=((e.authors||[])[1]||{}).primaryChannel;return t.indexOf((e.primaryChannel||{}).sectionId)>=0||t.indexOf((i||{}).sectionId)>=0||t.indexOf((r||{}).sectionId)>=0},e.removeArticleBodyAds=function(e){var t=/<div class="vestpocket" vest-pocket[\/>|><\/div>]/g,i=/<fbs-ad position="inread" progressive[^>]*><\/fbs-ad>/g;return e=e.map(function(e){return e.replace(t,"").replace(i,"")})},e.articleAdvertisementCheck=function(e){var t=["ad","author","comm","connoisseur","insights","marketplace"],i="forbesfinds"===e.editorialSlot||"Forbes Finds"===e.blogName;return t.indexOf(e.blogType)>=0||i},e.removeAutoplayAttributes=function(e){return e=e.map(function(e){return e.replace(/autoplay=""/gi,"")})},e.progressiveImages=[],e}())},112:function(e,t,i){"use strict";var r=i(113);i.d(t,"a",function(){return r.a})},113:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(44),n=function(){function e(){}return e.mapAvatars=function(e){var t=this,i=new Map,n=e.avatars;return e.avatar_map&&Object.keys(e.avatar_map).length?e.avatar_map:n?(n.sort(function(e,t){return t.size-e.size}).forEach(function(e,n){e.image=r.a.httpsUrl(e.image),i.set(t.sizeNames[n],e)}),i):i},e.isGroupBlog=function(e){return!!e&&"individual"!==e.authorType&&"partner"!==e.authorType&&"women"!==e.authorType},e.isDisclaimerNeeded=function(e){return e&&"legacy"!==e.naturalId&&"Forbes Staff"!==e.type&&"ad"!==e.authorType&&"insights"!==e.authorType&&"author"!==e.authorType&&"comm"!==e.authorType&&"connoisseur"!==e.authorType},e.isIndividual=function(e){return!this.isGroupBlog(e)},e.getId=function(e){return e&&e.naturalId?+e.naturalId.replace("blogAuthorId/blog/author/","").replace("blog-",""):-1},e.getAuthorType=function(e,t){var i=["Contributor","Subscriber","Forbes Staff"];return"Connoisseur"===e.type||"AdVoice"===e.type?"Brand Contributor":"AuthorVoice"===e.type?"ForbesBooks Author":"CommunityVoice"===e.type?"Forbes Councils Member":"Forbes Insights"===e.type?"Insights Contributor":e.disabled&&i.includes(e.type)?"Forbes Staff"===e.type?"Former Staff":"Former Contributor":e.advoiceBrand||e.seniorContributor?"Senior Contributor":t&&!e.type?"Brand Contributor":e.type},e.sizeNames=["xlarge","large","medium","small"],e}()},115:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(44),n=function(){function e(){}return e.processHeroMediaData=function(t){var i=(t.metaEmbeds||{}).hero||{},n=t.formatVariant||{},a=t.image||"",o=(t.images||{}).hero||{description:"",height:void 0,title:"",width:void 0,url:""},s=n.headline||"default",c=e.checkContainerType(s,"bleed"),l=e.checkContainerType(s,"overlay"),u=e.checkContainerType(s,"split"),d=i.type||"image",h=i.data?e.setHeroRatio(d,i):0,p=u?h/2:h,f=n.parallaxHero&&"brightcove"!==d,g=l?h/-2:h,m=i.data?"metaembeds":"no-metaembeds",b="premium-header-hero-container "+s+" "+m,v="premium-header color-accent hero-format-"+s+" headline-embed header-position-"+s;return{altText:(i.data||{}).altText||o.alt||"",bleedContainer:c,credit:(i.data||{}).credit||o.description||"",creditRatio:p,headline:s,headlineClass:v,heroClass:b+" "+(c&&"brightcove"===d?"headline-embed bg-accent":""),imgSrc:i.damImageUrl||a||"",metaEmbedsClass:m,overlayContainer:l,overlayRatio:g,parallax:f,ratio:h,showHeadline:"no-headline"!==s,splitContainer:u,textColorClass:e.setTextColorClass(s),type:d,videoImg:r.a.httpsUrl((i.data||{}).posterUrl||"")}},e.setHeroRatio=function(e,t){var i;switch(e){case"atmospheric":i=t.data.atmosphericVideoHeight/t.data.atmosphericVideoWidth;break;case"image":i=t.data.cropY2?(t.data.cropY2-t.data.cropY1)/(t.data.cropX2-t.data.cropX1):t.data.height?t.data.height/t.data.width:0;break;default:i=0}return 100*i.toFixed(6)},e.checkContainerType=function(e,t){return{bleed:["bleed-above","bleed-below"],overlay:["overlay","color-overlay"],split:["color-left","color-right"]}[""+t].indexOf(e)>=0},e.setTextColorClass=function(e){return"default"!==e?"color-base":"color-body"},e.replaceAds=function(e,t){return e.pages.map(function(e){var i='<fbs-ad position="top" ad-id="article-'+t+'-top" progressive>';return e.replace(/<fbs-ad position="top">/,i).replace(/<fbs-ad position="topx">/g,'<fbs-ad position="topx" progressive>')})},e.makePreloadHeroLinkData=function(e){var t=[],i="https://thumbor.forbes.com/thumbor/75x0/i.forbesimg.com/media/assets/logos/f-gray.png";if((e.metaEmbeds||{}).hero){var r=e.metaEmbeds.hero,n=r.type,a=r.data,o=r.damImageUrl;switch(n){case"atmospheric":t=[{source:a.atmosphericVideoSrc,type:"video"},{source:a.posterUrl?a.posterUrl:i,type:"image"}];break;case"brightcove":t=[{source:a.posterUrl?a.posterUrl:i,type:"image"}];break;default:t=[{source:o,type:"image"}]}}else e.image&&(t=[{source:e.image,type:"image"}]);return t},e.setParallaxFixed=function(e,t,i){var r=e.querySelector(".parallax-fluid-element"),n=e.querySelector(".parallax-static-element");r&&(i?(r.classList.add("parallax-fixed"),n&&(n.style.marginTop=t+"vw")):(r.classList.remove("parallax-fixed"),n&&(n.style.marginTop="")))},e.setParallaxFade=function(e,t){var i=e.querySelector(".parallax-fluid-element");if(i){var r=i.classList.contains("bleed-below");t?(i.classList.add("parallax-fade-out"),r&&i.classList.add("bg-accent")):(i.classList.remove("parallax-fade-out"),r&&i.classList.remove("bg-accent"))}},e.setGhostElement=function(e,t){var i=e.querySelector(".parallax-ghost-element");i&&(t?i.classList.add("ghost-display"):i.classList.remove("ghost-display"))},e}()},437:function(e,t,i){"use strict";function r(){var e=document.createElement("fbs-ad");e.setAttribute("position","mobile"),document.body.appendChild(e)}function n(){var e=document.getElementById("ng-templates-state");return JSON.parse(u.a.unescapeTransferState(e.textContent))}function a(){var e=window.external_services=window.external_services||{},t=e.ad_slots=e.ad_slots||{};document.addEventListener("fbs-ad-render",function(e){var i=e.detail,r={creative_id:i.creativeId,line_item_id:i.lineItemId,size_width:i.size&&i.size[0],size_height:i.size&&i.size[1],slot_id:i.slot&&i.slot.getSlotElementId()};t[r.slot_id]=r})}Object.defineProperty(t,"__esModule",{value:!0});var o=(i(438),i(439),i(156)),s=i(3),c=(i(83),i(111),i(246),i(243),this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}()),l=function(e){function t(){var t=e.call(this)||this;return t.firstAdMargin=900,t.recxAdMargin=400,t.batchLoadingComplete=!1,t.readyForProgressive=!1,t.listenerMap={},t}return c(t,e),Object.defineProperty(t,"observedAttributes",{get:function(){return["railIndex"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"railIndex",{get:function(){return this._railIndex},set:function(e){this._railIndex=e,this.setAttribute("railIndex",e+"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return"false"!==(this.getAttribute("is-active")||"false")},set:function(e){this.setAttribute("is-active",e+"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progressive",{get:function(){return"false"!==(this.getAttribute("progressive")||"false")},set:function(e){this.setAttribute("progressive",e+"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleRec",{get:function(){return"false"!==(this.getAttribute("singleRec")||"false")},set:function(e){this.setAttribute("singleRec",e+"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAdLight",{get:function(){return"false"!==(this.getAttribute("isAdLight")||"false")},set:function(e){this.setAttribute("isAdLight",e+"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adRailComplete",{get:function(){return"false"!==(this.getAttribute("adRailComplete")||"false")},set:function(e){this.setAttribute("adRailComplete",e+"")},enumerable:!0,configurable:!0}),t.prototype.connectedCallback=function(){this.init()},t.prototype.attributeChangedCallback=function(e,t,i,r){"railIndex"===e&&i!==t&&(this.railIndex=+i)},t.prototype.refresh=function(){var e=this;this.ad_load_complete=!1,s.Observable.from(this.querySelectorAll('[position="recx"]')).subscribe(function(t){t===e.requiredRecx?e.requiredRecx.refresh():e.removeChild(t)}),this.rec&&this.rec.refresh(),this.sponLogoAd&&this.sponLogoAd.refresh(),this.scrollSubs.unsubscribe()},t.prototype.loadedAsBatch=function(){this.subscribeForNextAd()},t.prototype.startAdRail=function(){this.addAd("rec"),this.addAd("spon-logo"),this.progressive||this.singleRec||this.addAd("recx");var e=new CustomEvent("start-ad-rail",{bubbles:!0,detail:{progressive:this.progressive,singleRec:this.singleRec,railIndex:this.railIndex,isAdLight:this.isAdLight}});document.dispatchEvent(e)},t.prototype.subscribeForNextAd=function(){var e=this;this.nextAdSubs=s.Observable.fromEvent(window,"scroll").throttleTime(100).filter(function(){return!e.ad_load_complete||(e.nextAdSubs.unsubscribe(),!1)}).first(function(){return e.lastElementChild.getBoundingClientRect().bottom-e.recxAdMargin-window.innerHeight<.25*window.innerHeight}).subscribe(function(){e.batchLoadingComplete||(e.batchLoadingComplete=!0),e.addAd("recx")})},t.prototype.init=function(){var e=this;this.ad_load_complete=!1,this.maxRecXSpace=600+this.recxAdMargin,this.parentContainer=this.parentElement.parentElement,this.railIndex=+this.getAttribute("railIndex"),this.recxIndex=0,setTimeout(function(){e.startAdRail()})},t.prototype.listenToRender=function(e){var t=this;e.addEventListener("render",function(i){var r=i.detail,n=r.size;if(t.isAAX=r.aax,n){var a=e.querySelector("iframe");if(a.setAttribute("tabindex","-1"),a.setAttribute("title","adIframe"),0!==n[0]&&0!==n[1])if("spon-logo"===e.position)e.style.minHeight=n[1]+"px";else if(1===n[1])t.setAdHeightForSticky(e,1e3);else{var o=e.firstChild.clientHeight,s=Math.max(n[1],o),c=s+("rec"===e.position?t.firstAdMargin:t.recxAdMargin);t.setAdHeightForSticky(e,c)}else{t.adRailComplete||(e.style.height=600+("rec"===e.position?t.firstAdMargin:t.recxAdMargin)+"px");var l=t.getListenerKey(e);t.listenerMap[l]=t.viewableStickyEvent.bind(t,e),e.addEventListener("viewable",t.listenerMap[l])}"spon-logo"!==e.position&&(t.progressive?(t.nextAdSubs&&t.nextAdSubs.unsubscribe(),t.subscribeForNextAd()):t.batchLoadingComplete&&!t.readyForProgressive||t.isAAX?t.addAd("recx"):t.batchLoadingComplete&&(t.nextAdSubs&&t.nextAdSubs.unsubscribe(),t.subscribeForNextAd()))}})},t.prototype.addAd=function(e){if(!this.adRailComplete){if(this.isAdLoadComplete(e))return this.ad_load_complete=!0,void this.adjustForLastRecx();var t=document.createElement("fbs-ad");t.position=e,this.railIndex>=0&&(t.adId="ad-rail-"+this.railIndex+"-"+e),this.listenToRender(t),"spon-logo"===e?(this.sponLogoAd=t,this.insertBefore(t,this.rec)):("rec"===e?(this.rec=t,this.progressive&&!this.isAdLight||(t.batched=!0),this.singleRec&&(this.ad_load_complete=!0)):"recx"===e&&(0!==this.recxIndex||this.progressive||(t.batched=!0),this.requiredRecx||(this.requiredRecx=t),++this.recxIndex>5&&(this.readyForProgressive=!0)),this.appendChild(t))}},t.prototype.viewableStickyEvent=function(e){var t=this.getListenerKey(e),i=e.firstChild.clientHeight+("rec"===e.position?this.firstAdMargin:this.recxAdMargin);this.setAdHeightForSticky(e,i),this.listenerMap[t]&&e.removeEventListener("viewable",this.listenerMap[t])},t.prototype.getListenerKey=function(e){var t="";return"recx"===e.position&&e.firstElementChild&&(t=e.firstElementChild.getAttribute("id")),"rec"===e.position?"rec":"recx-"+t.substring(t.length-1)},t.prototype.setAdHeightForSticky=function(e,t){this.adRailComplete||(e.style.height=t+"px",e.classList.add("loaded"),this.ad_load_complete&&this.adjustForLastRecx())},t.prototype.adjustForLastRecx=function(){var e=this.lastElementChild,t=e.firstElementChild.clientHeight,i=this.getAvailableSpace();e.classList.add("last"),e.style.height=t+i+"px"},t.prototype.isAdLoadComplete=function(e){return this.requiredRecx&&"recx"===e&&this.getAvailableSpace()<this.maxRecXSpace},t.prototype.getAvailableSpace=function(){var e=this.lastElementChild,t=this.parentContainer.parentElement.querySelector(".article-footer"),i=t.offsetTop+t.clientHeight;if(e&&e.firstElementChild){var r=e.firstElementChild.clientHeight;return i-(e.offsetTop+r)}return i},t}(HTMLElement),u=i(44);!function(){function e(e,t){void 0===t&&(t={bubbles:!1,cancelable:!1,detail:void 0});var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}();var d=!1,h=0,p=!1,f=!1,g=!1;document.addEventListener("FbsAdsBootstrapped",function(){return customElements.define("fbs-ad-rail",l)}),function(){try{var e=n(),t=window.fbsads=new o.a;e.adsConfig.isEurope="true"===e.REQUEST_HEADERS["x-is-eu"],t.bootstrap(e.adsConfig),e.is_mobile&&r(),a(),document.addEventListener("start-ad-rail",function(e){d=!1,p=e.detail.progressive,h=e.detail.railIndex,f=e.detail.singleRec,g=e.detail.isAdLight;var i=["article-"+h+"-top"];p||g||(i.push("ad-rail-"+h+"-rec"),f||i.push("ad-rail-"+h+"-recx-1")),document.addEventListener("fbs-ad-slots",function(e){var r=e.detail;if(!d&&i.filter(function(e){return r.indexOf(e)>-1}).length===i.length){var n=new CustomEvent("load-native-ad");document.dispatchEvent(n),d=!0,t.displayBatch(i),p||f||document.querySelector('fbs-ad-rail[railIndex="'+h+'"]').loadedAsBatch()}})})}catch(e){throw new Error("There was a problem with initalizing ads early")}}();var m=i(450);customElements.define("progressive-image",m.a),i(457),i(459),i(254),i(460),i(461)},44:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},n=function(){function e(){}return e.parseDAMLink=function(t,i,r,n){if(void 0===n&&(n={}),!t)return t;if(t=e.normalizeImageDomain(t),t.includes("specials-images.forbesimg.com")||t.includes("damapi-stagevip.forbes.com")||t.includes(".forbes.com/dam/imageserve/")){var a=void 0;(a=t.match(/\d+x\d+\.(jpg|jpeg|png|gif|tiff|bmp)/i))?t=t.replace(/\d+x\d+\.(jpg|jpeg|png|gif|tiff|bmp)/i,(i||0)+"x"+(r||0)+"."+(n&&n.filetype?n.filetype:a[1])):t+=(i||0)+"x"+(r||0)+"."+(n.filetype?n.filetype:"jpg"),(a=t.match(/fit=([^\&$]+)/i))?n&&n.fit&&(t=t.replace(/fit=([^\&$]+)/i,"fit="+n.fit)):t+=(t.includes("?")?"&":"?")+"fit="+(n.fit?n.fit:"scale"),n&&n.background&&((a=t.match(/background=([^\&$]+)/i))?t=t.replace(/background=([^\&$]+)/i,"background="+n.background):t+="&background="+n.background)}else t.match(/^(http(s)?:)?\/\/blogs-images\.forbes\.com/)&&-1===t.indexOf(".gif")&&(t=t.replace(/\.png/i,".jpg"),t.match(/width\=\d+/i)?t.replace(/width\=\d+/i,"width="+(i||0)):t+=(t.includes("?")?"&":"?")+"width="+(i||0),t.match(/height\=\d+/i)?t.replace(/height\=\d+/i,"height="+(r||0)):t+=(t.includes("?")?"&":"?")+"height="+(r||0),t.match(/fit=([^\&$]+)/i)?n&&n.fit&&(t=t.replace(/fit=([^\&$]+)/i,"fit="+n.fit)):t+=(t.includes("?")?"&":"?")+"fit="+(n.fit?n.fit:"scale"));return t=(t||"").replace(/^https?:/,"")},e.isValidEmail=function(e){return/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)},e.httpsUrl=function(e){return(e||"").replace(/^http:/,"https:")},e.normalizeImageDomain=function(t){return t=t||"",t.startsWith("//")?"https:"+t:t.startsWith("/")?"https://blogs-images.forbes.com"+t:e.httpsUrl(t)},e.prependThumbor=function(e,t,i){if(void 0===e&&(e=""),(e||"").indexOf("thumbor")>-1||(e||"").indexOf("gravatar")>-1)return e;var r=this.normalizeImageDomain(e);if(!this.isOnThumborWhitelist(r))return this.normalizeImageDomain(r);var n=encodeURIComponent(r);return"https://thumbor.forbes.com/thumbor/"+t+"x"+(i||0)+"/"+n},e.isOnThumborWhitelist=function(e){for(var t=!1,i=0;i<this.thumborWhitelist.length;i++)if(e.indexOf(this.thumborWhitelist[i])>-1){t=!0;break}return t},e.capitalizeFirstLetter=function(e){return(e||"").charAt(0).toUpperCase()+(e||"").slice(1)},e.unescapeTransferState=function(e){return e.replace(/&[^;]+;/g,function(e){return r[e]})},e.thumborWhitelist=["specials-images.forbes.com","specials-images.forbesimg.com","i.forbesimg.com","b-i.forbesimg.com","images.forbes.com","blogs-images.forbes.com"],e}()},450:function(e,t,i){"use strict";(function(e){i.d(t,"a",function(){return s});var r=i(44),n=i(108),a=i(456),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=function(t){function i(){var i=t.call(this)||this;return e.browser&&(i.articleIndex=window.articleIndex),i.imgTag=document.createElement("img"),i.imgTag.style.display="none",i}return o(i,t),Object.defineProperty(i,"observedAttributes",{get:function(){return["src","width","enhanced","alt"]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"src",{get:function(){return this.getAttribute("src")},set:function(e){this.setAttribute("src",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return parseInt(this.getAttribute("width"))||960},set:function(e){this.setAttribute("width",""+e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alt",{get:function(){return this.getAttribute("alt")},set:function(e){this.setAttribute("alt",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enhanced",{get:function(){return this.hasAttribute("enhanced")&&"false"!==this.getAttribute("enhanced")},set:function(e){e?this.setAttribute("enhanced",""):this.removeAttribute("enhanced")},enumerable:!0,configurable:!0}),i.prototype.connectedCallback=function(){this.init()},i.prototype.attributeChangedCallback=function(e,t,i){if("src"===e&&i!==t&&!this.enhanced){if(i.indexOf(".gif")>-1)return this.isGif=!0,this.highResSrc=i,void this.enhanceImage();this.lowResSrc=r.a.prependThumbor(i,.1*this.width),this.highResSrc=r.a.prependThumbor(i,this.width),this.shouldEnhanceImage()?this.enhanceImage():this.imgTag.src=this.lowResSrc}"alt"===e&&i!==t&&(this.imgTag.alt=i||"")},i.prototype.registerScrollHandler=function(){var e=this;document.addEventListener("scroll",function(){e.shouldEnhanceImage()&&e.enhanceImage()})},i.prototype.shouldEnhanceImage=function(){return a.a.getOffset(this).top<=2*window.innerHeight+pageYOffset},i.prototype.enhanceImage=function(){this.imgTag.src=this.highResSrc,this.enhanced=!0,this.isGif&&this.classList.add("initial-width")},i.prototype.removePlaceholder=function(){this.classList.add("show-img"),this.imgTag.style.display="block"},i.prototype.init=function(){if(!this.articleIndex&&n.a.progressiveImages.indexOf(this.src)<0)return void n.a.progressiveImages.push(this.src);this.imgTag.alt=this.alt||"",this.imgTag.addEventListener("load",this.removePlaceholder.bind(this)),this.appendChild(this.imgTag),this.enhanced||this.registerScrollHandler()},i}(HTMLElement)}).call(t,i(451))},456:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=function(){function e(){}return e.getOffset=function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft,bottom:t.top+window.pageYOffset-document.documentElement.clientTop+e.clientHeight}}},e}()}},[437]);
//# sourceMappingURL=f76c284bf56fdd7a893a.fbs.map